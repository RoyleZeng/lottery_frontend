# 小方块布局與學年篩選功能

## 更新日期

2024 年 11 月

## 主要改進

### 🎯 **布局優化：回歸小方塊設計**

#### 從列表改為網格

- **舊設計：** 垂直列表布局，每個活動占據一整行
- **新設計：** 網格布局，活動以小方塊形式整齊排列
- **優勢：** 更好的空間利用率，視覺更加緊湊美觀

#### 小方塊卡片設計

- **尺寸：** 最小寬度 280px，高度 200px
- **布局：** 垂直排列的卡片內容
- **結構：**
  ```
  ┌─────────────────────────┐
  │ [状态] [删除按钮]        │
  │                         │
  │    活動名稱              │
  │   [學年學期]             │
  │    活動描述              │
  │                         │
  │ ─────────────────────── │
  │    活動日期              │
  └─────────────────────────┘
  ```

### 📅 **學年篩選功能**

#### 智能篩選系統

- **自動提取學年：** 從活動的 `academic_year_term` 欄位自動提取學年
- **下拉選單：** 提供所有可用學年的選項
- **即時篩選：** 選擇學年後立即更新顯示的活動
- **計數顯示：** 右側顯示符合篩選條件的活動數量

#### 篩選邏輯

```javascript
// 例如：academic_year_term = "112-1"
// 提取學年：年份 = "112"
// 篩選：顯示所有以 "112" 開頭的活動
```

### 🎨 **視覺設計特色**

#### 卡片動畫效果

- **懸停效果：** 卡片上升 4px，增強陰影
- **平滑過渡：** 所有動畫使用 0.3s 緩動效果
- **狀態顏色：** 保持原有的狀態顏色系統

#### 響應式設計

- **桌面版：** 3-4 列網格布局
- **平板版：** 2-3 列網格布局
- **手機版：** 1-2 列網格布局，卡片稍微縮小

### 🔧 **技術實現**

#### CSS Grid 布局

```css
.event-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
}
```

#### Vue.js 響應式數據

```javascript
// 篩選相關變量
const selectedYear = ref(""); // 選中的學年
const availableYears = ref([]); // 可用學年列表
const filteredEvents = ref([]); // 篩選後的活動
```

#### 核心方法

- `updateAvailableYears()` - 更新可用學年
- `filterEventsByYear()` - 根據學年篩選活動
- `initializeFilteredEvents()` - 初始化篩選數據

### 📊 **用戶體驗提升**

#### 快速瀏覽

- **一目了然：** 小方塊設計讓用戶快速掃視所有活動
- **信息密度：** 在有限空間內展示關鍵信息
- **視覺層次：** 清晰的信息結構和優先級

#### 高效篩選

- **智能分類：** 自動按學年組織活動
- **快速切換：** 一鍵切換不同學年的活動
- **即時反饋：** 實時顯示篩選結果數量

### 🎯 **功能優勢**

#### 對管理員的好處

1. **提高效率：** 快速找到特定學年的活動
2. **節省空間：** 同一螢幕顯示更多活動
3. **直觀管理：** 一眼看出活動分布情況
4. **減少滾動：** 網格布局減少頁面滾動需求

#### 對系統的好處

1. **性能優化：** 篩選減少顯示的 DOM 元素
2. **用戶體驗：** 更好的視覺組織和導航
3. **可擴展性：** 易於添加更多篩選條件
4. **維護性：** 清晰的組件結構

### 📱 **響應式適配**

#### 不同螢幕尺寸

- **大螢幕 (>1200px)：** 4-5 列，280px 最小寬度
- **中等螢幕 (768-1200px)：** 2-3 列，適應寬度
- **小螢幕 (<768px)：** 1-2 列，250px 最小寬度

#### 筛选栏适配

- **桌面版：** 水平布局，筛选器在左，计数在右
- **移动版：** 垂直布局，居中对齐

### 🔮 **未來擴展可能性**

#### 更多篩選選項

- **狀態篩選：** 按 pending/drawn/completed 篩選
- **類型篩選：** 按 general/final_teaching 篩選
- **日期範圍：** 按活動日期範圍篩選
- **搜索功能：** 按活動名稱或描述搜索

#### 排序功能

- **按日期排序：** 最新/最舊優先
- **按狀態排序：** 待處理活動優先
- **按名稱排序：** 字母順序排列

#### 批量操作

- **批量選擇：** 選擇多個活動進行操作
- **批量刪除：** 一次刪除多個活動
- **批量狀態更新：** 批量更改活動狀態

## 使用說明

### 📝 **如何使用篩選功能**

1. 選擇抽獎類型進入活動列表
2. 在篩選區域選擇想要查看的學年
3. 系統自動顯示該學年的所有活動
4. 右側顯示符合條件的活動數量
5. 選擇"所有學年"查看全部活動

### 🎯 **小方塊操作**

- **點擊卡片：** 進入活動管理界面
- **點擊刪除按鈕：** 刪除該活動
- **查看狀態：** 顏色和圖標顯示活動狀態
